@model IEnumerable<Bumper.incidence>

@{
    ViewBag.Title = "Index";
}

<div class="container">
    <h2>Incidences<small> List of available incidences</small></h2><br />

    <p><a href="@Url.Action("Create")" class="btn btn-primary btn-xs">Add incidence</a></p>


    @foreach (var item in Model)
    {
        <div class="alert @if (item.machine.environment.Equals("production")) { @Html.Raw("alert-danger"); } else { @Html.Raw("alert-warning"); }" role="alert">
            <span class="pull-right"><a href="Incidences/Delete/@item.id" class="btn btn-danger btn-xs"><i class="fa fa-times"></i></a></span>
            <h4><b>@item.vulnerability</b>&nbsp; - &nbsp;@item.machine.tag</h4>
            
            <p style="padding-bottom:10px;"><i class="fa fa-file-text" aria-hidden="true"></i> @item.description</p>
            <button type="button" class="btn @if (item.machine.environment.Equals("production")) { @Html.Raw("btn-danger"); } else { @Html.Raw("btn-warning"); }" data-toggle="collapse" data-target="#@item.id"><i class="fa fa-search" aria-hidden="true"></i> &nbsp; Evidence</button>
            <div id="@item.id" class="collapse">
                <pre style="padding:10px;background-color:rgba(255, 255, 255, 0.4)">@item.evidence</pre>
            </div>
        </div>
    }

</div>
